# 2.2面向对象之封装

### 一、封装（Encapsulation）

* 类包含了数据与方法，**将数据与方法放在一个类中就构成了封装**。 

* 类是一种抽象的概念，对象是类的一种具体表示形式，是具体的概念。先有类，然后由类来生成对象（Object）。对象又叫做实例（Instance）。 

* 类由两大部分构成：属性以及方法。属性一般用名词来表示，方法一般用动词来表示。 

* 如果一个 java 源文件中定义了多个类，那么这些类中最多只能有一个类是 public 的，换句话说，定义的多个类可以都不是 public 的。 

### 二、类简介

* 1、类的定义

    ```java
    修饰符 class 类的名字 { 

        //类的内容（包含了属性与方法） 
    } 
    ```
* 2、方法的定义

    ```java
    修饰符 返回类型 方法名称（[参数 1， 参数 2， 参数 3…]） {   

        //方法体 
    }
    ```
* 3、main方法：是整个Java程序的入口点，如果类的定义中没有main方法，则程序无法执行。 

* 4、方法的设计与执行

  * 1>设计：方法定义不能嵌套，也就说不能在一个方法中定义另外一个方法。方法只能定义在类中。 
  
  * 2>执行：首先需要定义方法，接下来就可以使用方法（调用方法），当方法调用完毕后，方法可以返回值。**方法到底是否返回值是由方法的定义决定的**。 
  
* 5、通过类来生成对象（通常使用 new 关键字来生成对象）。 
    ```java
    public class Person {  

    }  

    类名 变量名 = new 类名();  

    Person person1 = new Person(); 
    Person person2 = new Person(); 
    Person person3 = new Person(); 
    ```
* 6、方法调用（需要通过对象来完成）

      对象变量.方法名([参数值 1， 参数值 2， 参数值 3….]); 

* 7、关于方法的注意事项： 

     * 1> 在方法定义中，方法的返回类型与 return 后面的变量或常量类型保持一致。 

     * 2> 在方法调用时，给方法传递的参数需要与方法定义时的参数保持一致（参数个数一 致，参数类型一致）。 

     * 3> 方法定义时的返回类型与接收方法返回值的变量类型保持一致。 

* 8、形式参数和实际参数

     * 1>方法定义时的参数叫做形式参数
        ```java
        public int add(int a, int b) {  

              return a + b; 
        } 
        ```
     * 2>方法调用时所赋予的具体值叫做实际参数
        ```java
        int a = test.add(8, 3); 
        ```
* 9、方法不返回值
      
     * 在声明方法的时候使用 void 关键字，在方法定义中可以有两种情况实现不返回值：  
     
          * 1>不使用 return 语句。 
          
          * 2>使用 return，但 return 后面没有任何值或者变量，return 后面只有一个分号，表示退出方法，返回到方法的调用端。 
          
              >使用方式： 
               
                return;

### 三、命名约定

* 1、类：首字母大写，如果一个类名由多个单词构成，那么每个单词的首字母都大写， 中间不使用任何的连接符。比如 Person 类，MemberTest 类。 

* 2、方法：首字母小写。如果一个方法由多个单词构成，那么第一个单词的所有字母全 都小写，从第二个单词开始，每个单词的首字母大写。比如 add，addThreeInt。 

* 3、属性：命名约定与方法相同。比如 age，ageOfPerson。 

### 四、属性的定义与使用

* 1、定义属性：修饰符 类型 属性名称;
    ```java
    public class Person { 

          修饰符 类型 属性名称; 
    } 
    ```
* 2、使用属性：与方法一样，使用.运算符。首先需要生成类的实例，然后使用实例+”.” 的方式来使用属性。 
    ```java
    Person person = new Person(); person.age 
    ```
### 五、成员变量与局部变量

* 1、定义

     * 1>成员变量：定义在类中的属性，可被修饰符修饰（public、protected、private、static）
     
     * 2>局部变量：定义在方法中的变量，不能被修饰符修饰

* 2、变量使用前赋值

   * 1>成员变量：使用前必须要声明，但可以不赋初值。 (会有默认初始值)
     
     <center>
     <table>
        <tr>
         <th rowspan="5">默认初始值</th>
         <td>byte、short、int、long</td>
         <td>0</td>
        </tr>
        <tr>
         <td>float、double</td>
         <td>0.0</td>
        </tr>
       <tr>
         <td>char</td>
         <td>\u0000</td>
       </tr>
       <tr>
         <td>boolean</td>
         <td>false</td>
       </tr>
       <tr>
         <td>引用类型</td>
         <td>null</td>
       </tr>
     </table>
     </center>
     
   * 2>局部变量：使用前必须要声明并赋初值

* 3、联系与区别

   * 1>无论是成员变量还是局部变量，使用前都需要声明（定义）。 
   
   * 2>对于局部变量来说，使用前必须要初始化；
   
   * 3>对于成员变量来说，使用前可以不初始化。如果没有初始化成员变量就开始使用，那么每个类型的成员变量都有一个默认的初始值 

### 六、引用类型（reference type）：

* 引用类型是用在对象上的。一个对象可以被多个引用所指向，但同一时刻，每个引用只能指向唯一的一个对象。如果一个对象被多个引用所指向， 那么无论哪个引用对对象的属性进行了修改，都会反映到其他的引用当中。 

* 引用的类型规定：什么类型的引用就能指向什么类型的对象，比如 People 类型的引用就能指向 People 类型的对象，但不能指向 Student 类型的对象。
      
     >eg
     
    ```java  
    People people = new People(); // 正确 
    People people = new Student(); //错误 
    ```

### 七、对象、属性、方法

* 1、对象（Object）又叫做实例（Instance）。生成一个对象的过程又叫做实例化。 
     
* 2、属性：类中的属性又叫做成员变量（member variable），属性用英文表示为 property 或者 attribute。 

* 3、对象的属性与方法(属性独立、方法共享)

     * 如果一个类包含了属性与方法，那么该类的**每一个对象都具有自己的属性，但无论一个类有多少个对象，这些对象共享同一个方法**。 

### 八、方法参数传递

* 1、原生数据类型：传数值

* 2、引用类型：传地址（地址是值）

* 3、对于 Java 中的方法参数传递，无论传递的是原生数据类型 还是引用类型，统一是传值（pass by value）。 java中没有传引用（pass by reference）的概念。

### 九、构造方法（Constructor）：构造方法用于完成对象属性的初始化工作，构造方法的特点如下：

* 1、构造方法的名字必须与类名完全一致（包含大小写） 

* 2、构造方法没有返回值，连 void 也不能出现。 

* 3、如果在定义一个类的时候，没有为类声明构造方法，那么 Java 编译器会自动为类添加一个没有参数且方法体为空的构造方法（默认的构造方法） 

* 4、如果在定义一个类的时候，为类声明了构造方法，那么 Java 编译器就不会再为类 添加构造方法了。 

* 5、不能显式调用类的构造方法，构造方法通常是通过 new 关键字隐式调用。 

* 注：默认的构造方法：构造方法没有参数且方法体为空。

### 十、new关键字

* 在生成对象时完成了三件事情

     * 为对象开辟内存空间。 
     
     * 调用类的构造方法。 
     
     * 将生成的对象的地址返回。 

* 使用 new 来生成对象的时候，后面的小括号()表示构造方法的参数列表:

     * 如果构造方法 不接收参数，那么小括号中的内容为空；

     * 如果构造方法接收参数，那么小括号中的实际 参数就需要与构造方法定义中的形式参数保持一致（参数数量一致、参数类型一致、按照顺序逐一赋值）。 

### 十一、方法重载(Overload)

* 1、普通方法重载（表示两个或多个方法名字相同，但方法参数不同。<方法的签名>）

     * 1>参数个数不同。
     
     * 2>参数类型不同。
     
     * 3>参数顺序不同。
            
          >eg
          
        ```java     
        public void test(boolean b,int i);
        public void test(int i,boolean b);
        ```
     * 注意：方法的返回值对重载没有任何影响。 

* 2、构造方法重载：（只需看参数即可）

     * 如果想在一个构造方法中调用另外一个构造方法，那么可以使用 this()的方式调用，

          * this()括号中的参数表示目标构造方法的参数。

          * this()必须要作为构造方法的第一条语句，换句话说，this()之前不能有任何可执行的代码。 

     * this表示对当前自己那个类对象的引用。

### 十二、可变参数

* 1、可变参数本质上就是一个数组

* 2、对于某个声明了可变参数的方法来说，即可传离散的值，亦可传数组对象。

     >eg
    ```java
    public double sum(int...nums)

    double b1 = sum(1,2.0);
    double b2 = sum(new int[]{1,2.0});
    ```
* 3、若将方法中的参数定义为数组，那么仅可传数组对象，而不可传离散的值

     >eg
    ```java
    public double sum(int[] nums)

    double b = sum(new int[]{1,2.0});
    ```
* 4、可变参数必须要作为方法参数的最后一个参数、即一个方法不可能具有两个或两个以上的可变参数

     >eg
    ```java
    public double sum(int...nums)
    public double sum(String str,int...nums)
    ```









